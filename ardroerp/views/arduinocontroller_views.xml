<?xml version="1.0"?>
<openerp>
    <data>

         <!-- Arduino Board Tree  -->
        <record model="ir.ui.view" id="view_arduinocontroller_board_tree">
            <field name="name">arduinocontroller.board.tree</field>
            <field name="model">arduinocontroller.board</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <form string="arduino board tree">
                    <field name="device"  select="1"/>
                    
                </form>
            </field>
        </record>

        <!-- Arduino Board Form  -->
        <record model="ir.ui.view" id="view_arduinocontroller_board_form">            
            <field name="name">arduinocontroller.board.form</field>
            <field name="model">arduinocontroller.board</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="arduino board form">
                    <group col="2" colspan="4">
                        <group col="2">
                            <field name="device"  select="1"/>
                            <field name="model"  select="1"/>
                        </group>
                        <group col="2">
                            <field name="pind2dir" on_change="onchange_pin('pind2value', pind2dir, pind2value)" select="1" />
                            
                            <field name="pind2value" on_change="onchange_pin('pind2value', pind2dir, pind2value)"   select="0"/>
                            <button string="Refresh"
                                    name="refresh_board"
                                    icon="terp-mail-forward"
                                    type="object"
                                    attrs="{'invisible': [('online', '=', False)]}"
                             />
                        </group>
                        <group col="3" colspan="4">
                            <field name="online"  select="1" eval="False" on_change="onchange_online(online, device)"/>
                            
                        </group>
                    </group>
                    
                </form>
            </field>
        </record>

        <!-- Arduino Action  -->
        <record model="ir.actions.act_window" id="action_arduino_board_form">
            <field name="name">Board</field>
            <field name="res_model">arduinocontroller.board</field>
            <field name="view_id" ref="view_arduinocontroller_board_tree"/>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help">Help on this view</field>            
        </record>

        <menuitem name="Arduino" icon="terp-project" id="arduino_menu" action="action_arduino_board_form"/>
        <menuitem name="Boards" parent="arduino_menu" id="arduino_menu_mainform" action="action_arduino_board_form"/>


    </data>
</openerp>
